@model List<ToDoVM>
@{
    ViewData["Title"] = "Index";
    int counter = 1;
}

<div class="homepage-content" style="text-align: center; padding: 50px;">

    <h1>Welcome to your To Do List</h1>
    <br />

    <div style="max-width: 600px; margin: 0 auto;">
        <a class="btn btn-primary mb-1" asp-action="Create" asp-controller="ToDos">Add new to do</a>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Title</th>
                    <th scope="col">Deadline</th>
                    <th scope="col">Status</th>
                    <th scope="col">Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var toDo in Model)
                {
                    <tr>
                        <th scope="row">@counter</th>
                        <td>@toDo.Title</td>
                        <td>@toDo.Deadline.ToShortDateString()</td>
                        <td>
                            @if (toDo.IsCompleted)
                            {
                                <div style="color:green">Completed</div>
                            }
                            else
                            {
                                <div style="color:red">Pending</div>
                            }

                        </td>
                        <th>
                            <a class="btn btn-info btn-sm" asp-action="Detail" asp-controller="ToDos" asp-route-id="@toDo.Id">See description</a>
                            <a class="btn btn-primary btn-sm" asp-action="Update" asp-controller="ToDos" asp-route-id="@toDo.Id">Edit</a>
                            <form method="post" asp-action="Delete" asp-controller="ToDos" asp-route-id="@toDo.Id" onsubmit="return confirm('Do you want to delete this post?')">

                                <button style="margin-top:3px" type="submit" class="btn btn-danger btn-sm">Delete</button>
                            </form>
                          

                        </th>
                    </tr>
                    counter++;
                }
            </tbody>
        </table>
    </div>
</div>
